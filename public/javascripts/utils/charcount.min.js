function charcount(e,n){for(e=e.replace(comments[n],""),e=e.replace(mainFunc[n],""),charCount=0;;){if(c=countLiteral(e),0==c[0])break;charCount+=c[0],e=c[1]}return e=e.replace(identifiers,"?"),e=e.replace(whitespace,""),"java"==n&&(e=e.replace(/\}/g,"")),e.length+charCount}function countLiteral(e){return p=new RegExp("((''').*?('''))|(\".*?\")|('[^']*?')"),match=p.exec(e),match?[match[0].length,e.substring(0,match.index)+e.substring(match.index+match[0].length)]:[0,e]}const identifiers=new RegExp("[A-Za-z0-9_]+","g"),whitespace=new RegExp("\\t+|\\s+","g"),comments={python:new RegExp("#.*(\\n|\\r|$)","g"),java:new RegExp("\\/\\*.*?\\*\\/|\\/(\\/|\\*).*?(\\n|\\r|$)","g")},mainFunc={python:new RegExp("def\\s+[\\w\\d_]+\\([\\w\\d\\_\\,\\s]+\\):"),java:new RegExp("(private|public|protected)?\\s*(final)?\\s*(static)?\\s*(int|long|boolean|void|float|double|String)\\s*[\\w\\d_]+\\(.*?\\)\\s*\\{")};